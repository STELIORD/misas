---

title: Local Interpretability

keywords: fastai
sidebar: home_sidebar



---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 01_local_interpret.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Sensitivity-Analysis">Sensitivity Analysis<a class="anchor-link" href="#Sensitivity-Analysis"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Example-data-(kaggle)">Example data (kaggle)<a class="anchor-link" href="#Example-data-(kaggle)"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Fastai1_model" class="doc_header"><code>class</code> <code>Fastai1_model</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L32" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Fastai1_model</code>(<strong><code>github</code></strong>, <strong><code>model</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">img</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">open_image</span><span class="p">(</span><span class="s2">&quot;example/kaggle/images/1-frame014-slice005.png&quot;</span><span class="p">)</span>
<span class="n">trueMask</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">open_mask</span><span class="p">(</span><span class="s2">&quot;example/kaggle/masks/1-frame014-slice005.png&quot;</span><span class="p">)</span>
<span class="n">trainedModel</span> <span class="o">=</span> <span class="n">Fastai1_model</span><span class="p">(</span><span class="s1">&#39;chfc-cmi/cmr-seg-tl&#39;</span><span class="p">,</span> <span class="s1">&#39;cmr_seg_base&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Using cache found in /home/shainberg/.cache/torch/hub/chfc-cmi_cmr-seg-tl_master
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">gaierror</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/urllib/request.py</span> in <span class="ansi-cyan-fg">do_open</span><span class="ansi-blue-fg">(self, http_class, req, **http_conn_args)</span>
<span class="ansi-green-intense-fg ansi-bold">   1318</span>                 h.request(req.get_method(), req.selector, req.data, headers,
<span class="ansi-green-fg">-&gt; 1319</span><span class="ansi-red-fg">                           encode_chunked=req.has_header(&#39;Transfer-encoding&#39;))
</span><span class="ansi-green-intense-fg ansi-bold">   1320</span>             <span class="ansi-green-fg">except</span> OSError <span class="ansi-green-fg">as</span> err<span class="ansi-blue-fg">:</span> <span class="ansi-red-fg"># timeout error</span>

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/http/client.py</span> in <span class="ansi-cyan-fg">request</span><span class="ansi-blue-fg">(self, method, url, body, headers, encode_chunked)</span>
<span class="ansi-green-intense-fg ansi-bold">   1251</span>         <span class="ansi-blue-fg">&#34;&#34;&#34;Send a complete request to the server.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">-&gt; 1252</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>_send_request<span class="ansi-blue-fg">(</span>method<span class="ansi-blue-fg">,</span> url<span class="ansi-blue-fg">,</span> body<span class="ansi-blue-fg">,</span> headers<span class="ansi-blue-fg">,</span> encode_chunked<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1253</span> 

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/http/client.py</span> in <span class="ansi-cyan-fg">_send_request</span><span class="ansi-blue-fg">(self, method, url, body, headers, encode_chunked)</span>
<span class="ansi-green-intense-fg ansi-bold">   1297</span>             body <span class="ansi-blue-fg">=</span> _encode<span class="ansi-blue-fg">(</span>body<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;body&#39;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">-&gt; 1298</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>endheaders<span class="ansi-blue-fg">(</span>body<span class="ansi-blue-fg">,</span> encode_chunked<span class="ansi-blue-fg">=</span>encode_chunked<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1299</span> 

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/http/client.py</span> in <span class="ansi-cyan-fg">endheaders</span><span class="ansi-blue-fg">(self, message_body, encode_chunked)</span>
<span class="ansi-green-intense-fg ansi-bold">   1246</span>             <span class="ansi-green-fg">raise</span> CannotSendHeader<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">-&gt; 1247</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>_send_output<span class="ansi-blue-fg">(</span>message_body<span class="ansi-blue-fg">,</span> encode_chunked<span class="ansi-blue-fg">=</span>encode_chunked<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1248</span> 

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/http/client.py</span> in <span class="ansi-cyan-fg">_send_output</span><span class="ansi-blue-fg">(self, message_body, encode_chunked)</span>
<span class="ansi-green-intense-fg ansi-bold">   1025</span>         <span class="ansi-green-fg">del</span> self<span class="ansi-blue-fg">.</span>_buffer<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-fg">-&gt; 1026</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>send<span class="ansi-blue-fg">(</span>msg<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1027</span> 

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/http/client.py</span> in <span class="ansi-cyan-fg">send</span><span class="ansi-blue-fg">(self, data)</span>
<span class="ansi-green-intense-fg ansi-bold">    965</span>             <span class="ansi-green-fg">if</span> self<span class="ansi-blue-fg">.</span>auto_open<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 966</span><span class="ansi-red-fg">                 </span>self<span class="ansi-blue-fg">.</span>connect<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    967</span>             <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/http/client.py</span> in <span class="ansi-cyan-fg">connect</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">   1413</span> 
<span class="ansi-green-fg">-&gt; 1414</span><span class="ansi-red-fg">             </span>super<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>connect<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1415</span> 

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/http/client.py</span> in <span class="ansi-cyan-fg">connect</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    937</span>         self.sock = self._create_connection(
<span class="ansi-green-fg">--&gt; 938</span><span class="ansi-red-fg">             (self.host,self.port), self.timeout, self.source_address)
</span><span class="ansi-green-intense-fg ansi-bold">    939</span>         self<span class="ansi-blue-fg">.</span>sock<span class="ansi-blue-fg">.</span>setsockopt<span class="ansi-blue-fg">(</span>socket<span class="ansi-blue-fg">.</span>IPPROTO_TCP<span class="ansi-blue-fg">,</span> socket<span class="ansi-blue-fg">.</span>TCP_NODELAY<span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/socket.py</span> in <span class="ansi-cyan-fg">create_connection</span><span class="ansi-blue-fg">(address, timeout, source_address)</span>
<span class="ansi-green-intense-fg ansi-bold">    706</span>     err <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span>
<span class="ansi-green-fg">--&gt; 707</span><span class="ansi-red-fg">     </span><span class="ansi-green-fg">for</span> res <span class="ansi-green-fg">in</span> getaddrinfo<span class="ansi-blue-fg">(</span>host<span class="ansi-blue-fg">,</span> port<span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span> SOCK_STREAM<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    708</span>         af<span class="ansi-blue-fg">,</span> socktype<span class="ansi-blue-fg">,</span> proto<span class="ansi-blue-fg">,</span> canonname<span class="ansi-blue-fg">,</span> sa <span class="ansi-blue-fg">=</span> res

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/socket.py</span> in <span class="ansi-cyan-fg">getaddrinfo</span><span class="ansi-blue-fg">(host, port, family, type, proto, flags)</span>
<span class="ansi-green-intense-fg ansi-bold">    751</span>     addrlist <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-fg">--&gt; 752</span><span class="ansi-red-fg">     </span><span class="ansi-green-fg">for</span> res <span class="ansi-green-fg">in</span> _socket<span class="ansi-blue-fg">.</span>getaddrinfo<span class="ansi-blue-fg">(</span>host<span class="ansi-blue-fg">,</span> port<span class="ansi-blue-fg">,</span> family<span class="ansi-blue-fg">,</span> type<span class="ansi-blue-fg">,</span> proto<span class="ansi-blue-fg">,</span> flags<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    753</span>         af<span class="ansi-blue-fg">,</span> socktype<span class="ansi-blue-fg">,</span> proto<span class="ansi-blue-fg">,</span> canonname<span class="ansi-blue-fg">,</span> sa <span class="ansi-blue-fg">=</span> res

<span class="ansi-red-fg">gaierror</span>: [Errno -3] Temporary failure in name resolution

During handling of the above exception, another exception occurred:

<span class="ansi-red-fg">URLError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-6-df817404707c&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> img <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">lambda</span><span class="ansi-blue-fg">:</span> open_image<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;example/kaggle/images/1-frame014-slice005.png&#34;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> trueMask <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">lambda</span><span class="ansi-blue-fg">:</span> open_mask<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;example/kaggle/masks/1-frame014-slice005.png&#34;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">----&gt; 3</span><span class="ansi-red-fg"> </span>trainedModel <span class="ansi-blue-fg">=</span> Fastai1_model<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#39;chfc-cmi/cmr-seg-tl&#39;</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;cmr_seg_base&#39;</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">&lt;ipython-input-5-2bdd0864acde&gt;</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, github, model)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> <span class="ansi-green-fg">class</span> Fastai1_model<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span>     <span class="ansi-green-fg">def</span> __init__<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> github<span class="ansi-blue-fg">,</span> model<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">----&gt; 4</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>trainedModel <span class="ansi-blue-fg">=</span> torch<span class="ansi-blue-fg">.</span>hub<span class="ansi-blue-fg">.</span>load<span class="ansi-blue-fg">(</span>github<span class="ansi-blue-fg">,</span>model<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span>         self<span class="ansi-blue-fg">.</span>resize256 <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">lambda</span> x<span class="ansi-blue-fg">:</span> x<span class="ansi-blue-fg">.</span>resize<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">256</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      6</span> 

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/site-packages/torch/hub.py</span> in <span class="ansi-cyan-fg">load</span><span class="ansi-blue-fg">(github, model, *args, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    367</span>     entry <span class="ansi-blue-fg">=</span> _load_entry_from_hubconf<span class="ansi-blue-fg">(</span>hub_module<span class="ansi-blue-fg">,</span> model<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    368</span> 
<span class="ansi-green-fg">--&gt; 369</span><span class="ansi-red-fg">     </span>model <span class="ansi-blue-fg">=</span> entry<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">*</span>args<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwargs<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    370</span> 
<span class="ansi-green-intense-fg ansi-bold">    371</span>     sys<span class="ansi-blue-fg">.</span>path<span class="ansi-blue-fg">.</span>remove<span class="ansi-blue-fg">(</span>repo_dir<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/.cache/torch/hub/chfc-cmi_cmr-seg-tl_master/hubconf.py</span> in <span class="ansi-cyan-fg">cmr_seg_base</span><span class="ansi-blue-fg">(**kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">     14</span>     url <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#34;https://github.com/chfc-cmi/cmr-seg-tl/releases/download/v0.1.0/resnet34_5percent_size256_extremeTfms_ceLoss.pkl&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">     15</span>     dst <span class="ansi-blue-fg">=</span> tempfile<span class="ansi-blue-fg">.</span>NamedTemporaryFile<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">---&gt; 16</span><span class="ansi-red-fg">     </span>torch<span class="ansi-blue-fg">.</span>hub<span class="ansi-blue-fg">.</span>download_url_to_file<span class="ansi-blue-fg">(</span>url<span class="ansi-blue-fg">,</span>dst<span class="ansi-blue-fg">.</span>name<span class="ansi-blue-fg">,</span>progress<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     17</span>     model <span class="ansi-blue-fg">=</span> load_learner<span class="ansi-blue-fg">(</span>path<span class="ansi-blue-fg">=</span>tempfile<span class="ansi-blue-fg">.</span>gettempdir<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">,</span>file<span class="ansi-blue-fg">=</span>dst<span class="ansi-blue-fg">.</span>name<span class="ansi-blue-fg">,</span>tfm_y<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">False</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     18</span>     <span class="ansi-green-fg">return</span> model

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/site-packages/torch/hub.py</span> in <span class="ansi-cyan-fg">download_url_to_file</span><span class="ansi-blue-fg">(url, dst, hash_prefix, progress)</span>
<span class="ansi-green-intense-fg ansi-bold">    392</span>     <span class="ansi-red-fg"># We use a different API for python2 since urllib(2) doesn&#39;t recognize the CA</span>
<span class="ansi-green-intense-fg ansi-bold">    393</span>     <span class="ansi-red-fg"># certificates in older Python</span>
<span class="ansi-green-fg">--&gt; 394</span><span class="ansi-red-fg">     </span>u <span class="ansi-blue-fg">=</span> urlopen<span class="ansi-blue-fg">(</span>url<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    395</span>     meta <span class="ansi-blue-fg">=</span> u<span class="ansi-blue-fg">.</span>info<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    396</span>     <span class="ansi-green-fg">if</span> hasattr<span class="ansi-blue-fg">(</span>meta<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;getheaders&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/urllib/request.py</span> in <span class="ansi-cyan-fg">urlopen</span><span class="ansi-blue-fg">(url, data, timeout, cafile, capath, cadefault, context)</span>
<span class="ansi-green-intense-fg ansi-bold">    220</span>     <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    221</span>         opener <span class="ansi-blue-fg">=</span> _opener
<span class="ansi-green-fg">--&gt; 222</span><span class="ansi-red-fg">     </span><span class="ansi-green-fg">return</span> opener<span class="ansi-blue-fg">.</span>open<span class="ansi-blue-fg">(</span>url<span class="ansi-blue-fg">,</span> data<span class="ansi-blue-fg">,</span> timeout<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    223</span> 
<span class="ansi-green-intense-fg ansi-bold">    224</span> <span class="ansi-green-fg">def</span> install_opener<span class="ansi-blue-fg">(</span>opener<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/urllib/request.py</span> in <span class="ansi-cyan-fg">open</span><span class="ansi-blue-fg">(self, fullurl, data, timeout)</span>
<span class="ansi-green-intense-fg ansi-bold">    523</span>             req <span class="ansi-blue-fg">=</span> meth<span class="ansi-blue-fg">(</span>req<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    524</span> 
<span class="ansi-green-fg">--&gt; 525</span><span class="ansi-red-fg">         </span>response <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_open<span class="ansi-blue-fg">(</span>req<span class="ansi-blue-fg">,</span> data<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    526</span> 
<span class="ansi-green-intense-fg ansi-bold">    527</span>         <span class="ansi-red-fg"># post-process response</span>

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/urllib/request.py</span> in <span class="ansi-cyan-fg">_open</span><span class="ansi-blue-fg">(self, req, data)</span>
<span class="ansi-green-intense-fg ansi-bold">    541</span>         protocol <span class="ansi-blue-fg">=</span> req<span class="ansi-blue-fg">.</span>type
<span class="ansi-green-intense-fg ansi-bold">    542</span>         result = self._call_chain(self.handle_open, protocol, protocol +
<span class="ansi-green-fg">--&gt; 543</span><span class="ansi-red-fg">                                   &#39;_open&#39;, req)
</span><span class="ansi-green-intense-fg ansi-bold">    544</span>         <span class="ansi-green-fg">if</span> result<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    545</span>             <span class="ansi-green-fg">return</span> result

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/urllib/request.py</span> in <span class="ansi-cyan-fg">_call_chain</span><span class="ansi-blue-fg">(self, chain, kind, meth_name, *args)</span>
<span class="ansi-green-intense-fg ansi-bold">    501</span>         <span class="ansi-green-fg">for</span> handler <span class="ansi-green-fg">in</span> handlers<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    502</span>             func <span class="ansi-blue-fg">=</span> getattr<span class="ansi-blue-fg">(</span>handler<span class="ansi-blue-fg">,</span> meth_name<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">--&gt; 503</span><span class="ansi-red-fg">             </span>result <span class="ansi-blue-fg">=</span> func<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">*</span>args<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    504</span>             <span class="ansi-green-fg">if</span> result <span class="ansi-green-fg">is</span> <span class="ansi-green-fg">not</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    505</span>                 <span class="ansi-green-fg">return</span> result

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/urllib/request.py</span> in <span class="ansi-cyan-fg">https_open</span><span class="ansi-blue-fg">(self, req)</span>
<span class="ansi-green-intense-fg ansi-bold">   1360</span>         <span class="ansi-green-fg">def</span> https_open<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> req<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   1361</span>             return self.do_open(http.client.HTTPSConnection, req,
<span class="ansi-green-fg">-&gt; 1362</span><span class="ansi-red-fg">                 context=self._context, check_hostname=self._check_hostname)
</span><span class="ansi-green-intense-fg ansi-bold">   1363</span> 
<span class="ansi-green-intense-fg ansi-bold">   1364</span>         https_request <span class="ansi-blue-fg">=</span> AbstractHTTPHandler<span class="ansi-blue-fg">.</span>do_request_

<span class="ansi-green-fg">~/miniconda3/envs/misas/lib/python3.7/urllib/request.py</span> in <span class="ansi-cyan-fg">do_open</span><span class="ansi-blue-fg">(self, http_class, req, **http_conn_args)</span>
<span class="ansi-green-intense-fg ansi-bold">   1319</span>                           encode_chunked=req.has_header(&#39;Transfer-encoding&#39;))
<span class="ansi-green-intense-fg ansi-bold">   1320</span>             <span class="ansi-green-fg">except</span> OSError <span class="ansi-green-fg">as</span> err<span class="ansi-blue-fg">:</span> <span class="ansi-red-fg"># timeout error</span>
<span class="ansi-green-fg">-&gt; 1321</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">raise</span> URLError<span class="ansi-blue-fg">(</span>err<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1322</span>             r <span class="ansi-blue-fg">=</span> h<span class="ansi-blue-fg">.</span>getresponse<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1323</span>         <span class="ansi-green-fg">except</span><span class="ansi-blue-fg">:</span>

<span class="ansi-red-fg">URLError</span>: &lt;urlopen error [Errno -3] Temporary failure in name resolution&gt;</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Generic-functions">Generic functions<a class="anchor-link" href="#Generic-functions"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_generic_series" class="doc_header"><code>get_generic_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L44" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_generic_series</code>(<strong><code>image</code></strong>, <strong><code>model</code></strong>, <strong><code>transform</code></strong>, <strong><code>truth</code></strong>=<em><code>None</code></em>, <strong><code>tfm_y</code></strong>=<em><code>False</code></em>, <strong><code>start</code></strong>=<em><code>0</code></em>, <strong><code>end</code></strong>=<em><code>180</code></em>, <strong><code>step</code></strong>=<em><code>30</code></em>, <strong><code>log_steps</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plot_series" class="doc_header"><code>plot_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L76" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plot_series</code>(<strong><code>series</code></strong>, <strong><code>nrow</code></strong>=<em><code>1</code></em>, <strong><code>figsize</code></strong>=<em><code>(16, 6)</code></em>, <strong><code>param_name</code></strong>=<em><code>'param'</code></em>, <strong><code>overlay_truth</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plot_frame" class="doc_header"><code>plot_frame</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L93" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plot_frame</code>(<strong><code>param</code></strong>, <strong><code>img</code></strong>, <strong><code>pred</code></strong>, <strong><code>param_name</code></strong>=<em><code>'param'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="gif_series" class="doc_header"><code>gif_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L100" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>gif_series</code>(<strong><code>series</code></strong>, <strong><code>fname</code></strong>, <strong><code>duration</code></strong>=<em><code>150</code></em>, <strong><code>param_name</code></strong>=<em><code>'param'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="eval_generic_series" class="doc_header"><code>eval_generic_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L105" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>eval_generic_series</code>(<strong><code>image</code></strong>, <strong><code>mask</code></strong>, <strong><code>model</code></strong>, <strong><code>transform_function</code></strong>, <strong><code>start</code></strong>=<em><code>0</code></em>, <strong><code>end</code></strong>=<em><code>360</code></em>, <strong><code>step</code></strong>=<em><code>5</code></em>, <strong><code>param_name</code></strong>=<em><code>'param'</code></em>, <strong><code>mask_transform_function</code></strong>=<em><code>None</code></em>, <strong><code>components</code></strong>=<em><code>['bg', 'c1', 'c2']</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Rotation">Rotation<a class="anchor-link" href="#Rotation"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="rotationTransform" class="doc_header"><code>rotationTransform</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L138" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>rotationTransform</code>(<strong><code>image</code></strong>, <strong><code>deg</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_rotation_series" class="doc_header"><code>get_rotation_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L141" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_rotation_series</code>(<strong><code>image</code></strong>, <strong><code>model</code></strong>, <strong><code>start</code></strong>=<em><code>0</code></em>, <strong><code>end</code></strong>=<em><code>360</code></em>, <strong><code>step</code></strong>=<em><code>60</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="n">get_rotation_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">,</span> <span class="n">truth</span><span class="o">=</span><span class="n">trueMask</span><span class="p">(),</span> <span class="n">tfm_y</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plot_series</span><span class="p">(</span><span class="n">series</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="eval_rotation_series" class="doc_header"><code>eval_rotation_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L145" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>eval_rotation_series</code>(<strong><code>image</code></strong>, <strong><code>mask</code></strong>, <strong><code>model</code></strong>, <strong><code>step</code></strong>=<em><code>5</code></em>, <strong><code>start</code></strong>=<em><code>0</code></em>, <strong><code>end</code></strong>=<em><code>360</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">eval_rotation_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trueMask</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;deg&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c1&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;LV&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;deg&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c2&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;MY&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;degress&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;dice&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can easily generate gifs by plotting multiple frames</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gif_series</span><span class="p">(</span>
    <span class="n">get_rotation_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span><span class="n">trainedModel</span><span class="p">,</span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="mi">360</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
    <span class="s2">&quot;example/kaggle/rotation.gif&quot;</span><span class="p">,</span>
    <span class="n">duration</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
    <span class="n">param_name</span><span class="o">=</span><span class="s2">&quot;degrees&quot;</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/misas/example/kaggle/rotation.gif" alt="segmentation sensitivity to rotation"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Cropping">Cropping<a class="anchor-link" href="#Cropping"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cropTransform" class="doc_header"><code>cropTransform</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L160" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cropTransform</code>(<strong><code>image</code></strong>, <strong><code>pxls</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_crop_series" class="doc_header"><code>get_crop_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L167" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_crop_series</code>(<strong><code>image</code></strong>, <strong><code>model</code></strong>, <strong><code>start</code></strong>=<em><code>56</code></em>, <strong><code>end</code></strong>=<em><code>257</code></em>, <strong><code>step</code></strong>=<em><code>50</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="n">get_crop_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">,</span> <span class="n">truth</span><span class="o">=</span><span class="n">trueMask</span><span class="p">(),</span> <span class="n">tfm_y</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plot_series</span><span class="p">(</span><span class="n">series</span><span class="p">,</span><span class="n">nrow</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span><span class="c1">#,overlay_truth=True)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="eval_crop_series" class="doc_header"><code>eval_crop_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L171" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>eval_crop_series</code>(<strong><code>image</code></strong>, <strong><code>mask</code></strong>, <strong><code>model</code></strong>, <strong><code>step</code></strong>=<em><code>5</code></em>, <strong><code>start</code></strong>=<em><code>56</code></em>, <strong><code>end</code></strong>=<em><code>256</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">eval_crop_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trueMask</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;pixels&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c1&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;LV&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;pixels&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c2&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;MY&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;pixels&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;dice&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Cropping and comparing to the full original mask might not be desired. In this case it is possible to crop the mask as well. All pixels in the cropped area are set to 0 (commonly the background class). As soon as a class is completely missing, the dice score might jump to 1 because not predicting the class is correct in that case.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gif_series</span><span class="p">(</span>
    <span class="n">get_crop_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span><span class="n">trainedModel</span><span class="p">,</span><span class="n">start</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span><span class="n">step</span><span class="o">=-</span><span class="mi">10</span><span class="p">),</span>
    <span class="s2">&quot;example/kaggle/crop.gif&quot;</span><span class="p">,</span>
    <span class="n">duration</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
    <span class="n">param_name</span><span class="o">=</span><span class="s2">&quot;pixels&quot;</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/misas/example/kaggle/crop.gif" alt="segmentation sensitivity to cropping"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Brightness">Brightness<a class="anchor-link" href="#Brightness"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="brightnessTransform" class="doc_header"><code>brightnessTransform</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L186" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>brightnessTransform</code>(<strong><code>image</code></strong>, <strong><code>light</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_brightness_series" class="doc_header"><code>get_brightness_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L189" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_brightness_series</code>(<strong><code>image</code></strong>, <strong><code>model</code></strong>, <strong><code>start</code></strong>=<em><code>0.05</code></em>, <strong><code>end</code></strong>=<em><code>1</code></em>, <strong><code>step</code></strong>=<em><code>0.1</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="n">get_brightness_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">,</span> <span class="n">truth</span><span class="o">=</span><span class="n">trueMask</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plot_series</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">nrow</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="eval_bright_series" class="doc_header"><code>eval_bright_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L193" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>eval_bright_series</code>(<strong><code>image</code></strong>, <strong><code>mask</code></strong>, <strong><code>model</code></strong>, <strong><code>start</code></strong>=<em><code>0.05</code></em>, <strong><code>end</code></strong>=<em><code>0.95</code></em>, <strong><code>step</code></strong>=<em><code>0.05</code></em>, <strong><code>param_name</code></strong>=<em><code>'brightness'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">eval_bright_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trueMask</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mf">1.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;brightness&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c1&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;brightness&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c2&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gif_series</span><span class="p">(</span>
    <span class="n">get_brightness_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">,</span><span class="n">step</span><span class="o">=.</span><span class="mi">05</span><span class="p">),</span>
    <span class="s2">&quot;example/kaggle/brightness.gif&quot;</span><span class="p">,</span>
    <span class="n">param_name</span><span class="o">=</span><span class="s2">&quot;brightness&quot;</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/misas/example/kaggle/brightness.gif" alt="segmentation sensitivity to brightness"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Contrast">Contrast<a class="anchor-link" href="#Contrast"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="contrastTransform" class="doc_header"><code>contrastTransform</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L207" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>contrastTransform</code>(<strong><code>image</code></strong>, <strong><code>scale</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_contrast_series" class="doc_header"><code>get_contrast_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L210" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_contrast_series</code>(<strong><code>image</code></strong>, <strong><code>model</code></strong>, <strong><code>start</code></strong>=<em><code>0.1</code></em>, <strong><code>end</code></strong>=<em><code>7.01</code></em>, <strong><code>step</code></strong>=<em><code>1</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="n">get_contrast_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">,</span> <span class="n">truth</span><span class="o">=</span><span class="n">trueMask</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plot_series</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">nrow</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="eval_contrast_series" class="doc_header"><code>eval_contrast_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L214" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>eval_contrast_series</code>(<strong><code>image</code></strong>, <strong><code>mask</code></strong>, <strong><code>model</code></strong>, <strong><code>start</code></strong>=<em><code>0.1</code></em>, <strong><code>end</code></strong>=<em><code>7.1</code></em>, <strong><code>step</code></strong>=<em><code>0.5</code></em>, <strong><code>param_name</code></strong>=<em><code>'contrast'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">eval_contrast_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trueMask</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;contrast&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c1&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;contrast&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c2&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gif_series</span><span class="p">(</span>
    <span class="n">get_contrast_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">,</span><span class="n">step</span><span class="o">=.</span><span class="mi">5</span><span class="p">),</span>
    <span class="s2">&quot;example/kaggle/contrast.gif&quot;</span><span class="p">,</span>
    <span class="n">param_name</span><span class="o">=</span><span class="s2">&quot;contrast&quot;</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/misas/example/kaggle/contrast.gif" alt="segmentation sensitivity to contrast"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Zoom">Zoom<a class="anchor-link" href="#Zoom"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="zoomTransform" class="doc_header"><code>zoomTransform</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L228" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>zoomTransform</code>(<strong><code>image</code></strong>, <strong><code>scale</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_zoom_series" class="doc_header"><code>get_zoom_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L233" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_zoom_series</code>(<strong><code>image</code></strong>, <strong><code>model</code></strong>, <strong><code>start</code></strong>=<em><code>56</code></em>, <strong><code>end</code></strong>=<em><code>500</code></em>, <strong><code>step</code></strong>=<em><code>50</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="n">get_zoom_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">,</span> <span class="n">truth</span><span class="o">=</span><span class="n">trueMask</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plot_series</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">nrow</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="eval_zoom_series" class="doc_header"><code>eval_zoom_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L237" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>eval_zoom_series</code>(<strong><code>image</code></strong>, <strong><code>mask</code></strong>, <strong><code>model</code></strong>, <strong><code>step</code></strong>=<em><code>10</code></em>, <strong><code>start</code></strong>=<em><code>56</code></em>, <strong><code>end</code></strong>=<em><code>500</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">eval_zoom_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trueMask</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;scale&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c1&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;LV&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;scale&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c2&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;MY&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;scale&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;dice&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gif_series</span><span class="p">(</span>
    <span class="n">get_zoom_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span><span class="n">trainedModel</span><span class="p">,</span><span class="n">start</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span><span class="n">step</span><span class="o">=-</span><span class="mi">10</span><span class="p">),</span>
    <span class="s2">&quot;example/kaggle/zoom.gif&quot;</span><span class="p">,</span>
    <span class="n">duration</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span>
    <span class="n">param_name</span><span class="o">=</span><span class="s2">&quot;scale&quot;</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/misas/example/kaggle/zoom.gif" alt="segmentation sensitivity to zoom"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Dihedral">Dihedral<a class="anchor-link" href="#Dihedral"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dihedralTransform" class="doc_header"><code>dihedralTransform</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L252" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dihedralTransform</code>(<strong><code>image</code></strong>, <strong><code>sym_im</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_dihedral_series" class="doc_header"><code>get_dihedral_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L255" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_dihedral_series</code>(<strong><code>image</code></strong>, <strong><code>model</code></strong>, <strong><code>start</code></strong>=<em><code>0</code></em>, <strong><code>end</code></strong>=<em><code>8</code></em>, <strong><code>step</code></strong>=<em><code>1</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plot_series</span><span class="p">(</span><span class="n">get_dihedral_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="eval_dihedral_series" class="doc_header"><code>eval_dihedral_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L259" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>eval_dihedral_series</code>(<strong><code>image</code></strong>, <strong><code>mask</code></strong>, <strong><code>model</code></strong>, <strong><code>start</code></strong>=<em><code>0</code></em>, <strong><code>end</code></strong>=<em><code>8</code></em>, <strong><code>step</code></strong>=<em><code>1</code></em>, <strong><code>param_name</code></strong>=<em><code>'k'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">eval_dihedral_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trueMask</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;k&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c1&#39;</span><span class="p">],</span> <span class="s1">&#39;bo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;k&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c2&#39;</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gif_series</span><span class="p">(</span>
    <span class="n">get_dihedral_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">),</span>
    <span class="s2">&quot;example/kaggle/dihedral.gif&quot;</span><span class="p">,</span>
    <span class="n">param_name</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span>
    <span class="n">duration</span><span class="o">=</span><span class="mi">1000</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/misas/example/kaggle/dihedral.gif" alt="segmentation sensitivity to dihedral"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Resize">Resize<a class="anchor-link" href="#Resize"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="resizeTransform" class="doc_header"><code>resizeTransform</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L274" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>resizeTransform</code>(<strong><code>image</code></strong>, <strong><code>size</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_resize_series" class="doc_header"><code>get_resize_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L278" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_resize_series</code>(<strong><code>image</code></strong>, <strong><code>model</code></strong>, <strong><code>start</code></strong>=<em><code>10</code></em>, <strong><code>end</code></strong>=<em><code>200</code></em>, <strong><code>step</code></strong>=<em><code>30</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plot_series</span><span class="p">(</span><span class="n">get_resize_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="eval_resize_series" class="doc_header"><code>eval_resize_series</code><a href="https://github.com/chfc-cmi/misas/tree/master/misas/core.py#L282" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>eval_resize_series</code>(<strong><code>image</code></strong>, <strong><code>mask</code></strong>, <strong><code>model</code></strong>, <strong><code>start</code></strong>=<em><code>22</code></em>, <strong><code>end</code></strong>=<em><code>3000</code></em>, <strong><code>step</code></strong>=<em><code>100</code></em>, <strong><code>param_name</code></strong>=<em><code>'px'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">eval_resize_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trueMask</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;px&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c1&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;px&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;c2&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gif_series</span><span class="p">(</span>
    <span class="n">get_resize_series</span><span class="p">(</span><span class="n">img</span><span class="p">(),</span> <span class="n">trainedModel</span><span class="p">),</span>
    <span class="s2">&quot;example/kaggle/resize.gif&quot;</span><span class="p">,</span>
    <span class="n">param_name</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span>
    <span class="n">duration</span><span class="o">=</span><span class="mi">200</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

